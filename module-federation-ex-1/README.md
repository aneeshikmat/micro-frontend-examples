# مثال على Module Federation

*هذا المثال جزء من مجموعة أمثلة Micro-Frontend المقدمة في كتاب Micro-Frontend باللغة العربية لمؤلفه أنيس حكمت أبو حميد.*

## نظرة عامة

هذا المشروع هو مثال على استخدام تقنية Module Federation من Webpack 5 لبناء تطبيق Micro-Frontend. يتكون المشروع من أربعة تطبيقات منفصلة:

1. **Host**: التطبيق الرئيسي الذي يستضيف المايكرو الأخرى
2. **Header**
3. **Footer**
4. **Dashboard**

كل تطبيق يعمل بشكل مستقل على بورت مختلف، ويتم دمجها معًا باستخدام Module Federation.

## هيكل المشروع

```
module-federation-ex-1/
├── host/               # التطبيق المضيف (يعمل على البورت 3000)
├── header/             # (يعمل على البورت 3001)
├── footer/             # (يعمل على البورت 3002)
└── dashboard/          # (يعمل على البورت 3003)
```

## المكونات

### Host (المضيف)

التطبيق المضيف هو التطبيق الرئيسي الذي يقوم بتحميل واستضافة المكونات الأخرى. يستخدم React.lazy وSuspense لتحميل المكونات بشكل (lazy loading).

### Header

مكون بسيط يعرض شريط بخلفية خضراء.

### Footer

مكون بسيط يعرض شريط تذييل بخلفية داكنة مثبت في أسفل الصفحة.

### Dashboard (لوحة المعلومات)

مكون يعرض محتوى بتصميم بسيط يحتوي على عنوان ورسالة ترحيبية.

## متطلبات التشغيل

- npm

## تثبيت المشروع

1. قم بتثبيت ال dep لكل تطبيق:

```bash
cd host
npm install

cd ../header
npm install

cd ../footer
npm install

cd ../dashboard
npm install
```

## تشغيل المشروع

يجب تشغيل كل تطبيق بشكل منفصل. افتح أربع شاشات terminal واتبع الخطوات التالية:

### النافذة الأولى:
```bash
cd header
npm run dev
```

### النافذة الثانية:
```bash
cd footer
npm run dev
```

### النافذة الثالثة:
```bash
cd dashboard
npm run dev
```

### النافذة الرابعة (التطبيق المضيف):
```bash
cd host
npm run dev
```

بعد تشغيل جميع التطبيقات، يمكنك فتح المتصفح والانتقال إلى `http://localhost:3000` لرؤية التطبيق المتكامل.

## كيفية عمل Module Federation

في هذا المثال:

1. يقوم كل مكون (header، footer، dashboard) بتصدير مكون React الخاص به باستخدام ModuleFederationPlugin.
2. يقوم التطبيق المضيف باستيراد هذه المكونات من البورت المختلفة باستخدام ModuleFederationPlugin.
3. يتم تحميل المكونات بشكل (lazy loading) باستخدام React.lazy وSuspense.

هذا النهج يسمح بتطوير كل مكون بشكل مستقل مع الحفاظ على القدرة على دمجها معًا في تطبيق متكامل.