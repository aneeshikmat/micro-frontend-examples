<!DOCTYPE html>
<html lang="en">
<head>
  <title>Host Page</title>
</head>
<body>
<h1>Host Page</h1>
<iframe id="invoice-iframe" src="invoice-iframe.html" width="400" height="200"></iframe>
<iframe id="status-iframe" src="status-iframe.html" width="400" height="200"></iframe>

<h4>Thank you for your invoice!</h4>
<div id="messageBox"></div>

<script>
  // 2nees.com => هذا مثال توضيحي، لكن هناك العديد من الإعدادات المهمة والآمنية التي يجب أن تراعيها !
  window.addEventListener("message", function(event) {
    if (event.data.to === "statusIframe"){
      document.getElementById("messageBox").innerText = `Message: '${event.data?.text}' was received from '${event.data?.from}' and sent to '${event.data?.to}'`;

      const statusIframe = document.getElementById("status-iframe");
      statusIframe.contentWindow.postMessage(event.data);
    }
  });
</script>
</body>
</html>
